<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>Plantilla Mapbox Storytelling - Accesibilidad (Lógica Externa)</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v3.8.0/mapbox-gl.css' rel='stylesheet' />
    <script src="https://unpkg.com/scrollama"></script>
    <script src="https://cdn.jsdelivr.net/npm/mapbox-gl-globe-minimap@1.2.0/dist/bundle.js"></script>

    <style>
        /* ESTILOS GENERALES (Se mantienen para #map, #story, .step, etc.) */
        body { margin: 0; padding: 0; font-family: Helvetica, sans-serif; }
        #map { top: 0; height: 100vh; width: 100vw; position: fixed; z-index: 1; }
        #story { position: relative; z-index: 5; }
        
        /* HEADER (Primer Recuadro) */
        #header {
            width: 500px; margin: 50vh auto 100vh auto; padding: 20px;
            font-size: 18px; 
            background-color: rgba(121, 121, 121, 0.83); 
            color: white; border-radius: 10px;
            text-align: center;
        }

        /* PASOS NARRATIVOS (Recuadros .step) */
        .step {
            width: 500px; margin: 0 auto 100vh auto; padding: 20px;
            background-color: rgba(121, 121, 121, 0.83); 
            color: white;
            border-radius: 10px; opacity: 0.9;
            font-size: 18px; 
        }

        .step.active { opacity: 1; }
        
        /* REGLAS PARA AUMENTAR EL TAMAÑO DE LOS TEXTOS ESPECÍFICOS */
        #header h1 {
            font-size: 3.0em; /* Título principal */
        }
        #header h2 {
            font-size: 1.8em; /* Subtítulo */
        }
        .step h3 {
            font-size: 1.6em; /* Título de cada capítulo */
            margin-top: -0.5; /* Elimina margen superior excesivo */
        }
        .step div {
            font-size: 1.1em; /* Texto descriptivo del cuerpo */
            line-height: 1.6; /* Mejora la legibilidad */
            margin-top: 0;
        }

        /* ESTILOS PARA ENLACES - Color verde menta */
        a {
            color: #01f3b3;
            text-decoration: underline;
        }
        a:hover {
            color: #00d49a;
            text-decoration: underline;
        }
        a:visited {
            color: #01f3b3;
        }

        /* ESTILOS PARA POP-UP */
        .mapboxgl-popup-content {
            padding: 10px;
            text-align: left;
        }
        .mapboxgl-popup-close-button {
            font-size: 20px; 
            padding: 0 5px 2px 0;
        }

        /* AJUSTE PARA MÓVIL */
        @media (max-width: 750px) {
            .step, #header { 
                width: 90%; 
                margin-bottom: 60vh; 
                background-color: rgba(121, 121, 121, 0.75); 
                font-size: 16px; /* Tamaño base en móvil */
            }
            .step h3 {
                font-size: 1.4em;
                margin-top: 0; /* Elimina margen superior excesivo en móvil */
            }
        }
    </style>
</head>

<body>
    <div id="map"></div>
    <div id="story"></div> 
    <div id="reset-btn" style="display: none; position: fixed; top: 20px; right: 20px; z-index: 1000; transition: opacity 0.5s;">
        <span style="background:#01f3b3; padding:8px 15px; border-radius:999px; color:black; box-shadow:0px 4px 18px rgba(0,0,0,0.15); cursor:pointer; font-weight: bold; font-family: sans-serif;">
            Volver a la navegación con texto
        </span>
    </div>
    <div id="free-nav-btn" style="display: none; position: fixed; top: 20px; left: 20px; z-index: 1000; transition: opacity 0.5s;">
        <span style="background:#01f3b3; padding:8px 15px; border-radius:999px; color:black; box-shadow:0px 4px 18px rgba(0,0,0,0.15); cursor:pointer; font-weight: bold; font-family: sans-serif;">
            Volver a la navegación libre por el mapa
        </span>
    </div>
    
    <script src="./config.js"></script>
</body>
</html>
